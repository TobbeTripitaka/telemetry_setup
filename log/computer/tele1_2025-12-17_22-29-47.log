========================================================================
TELE1 Data Collection and Upload Log
========================================================================
Started: 2025-12-17 22:29:47
Hostname: tele1
User: toby
Script: /home/toby/tele/tele1.sh
========================================================================

2025-12-17 22:29:47 [INFO] ==================================================
2025-12-17 22:29:47 [INFO] TELE1 Data Collection System - Starting
2025-12-17 22:29:47 [INFO] ==================================================
2025-12-17 22:29:47 [INFO] Script version: 2.0
2025-12-17 22:29:47 [INFO] Start time: 2025-12-17_22-29-47
2025-12-17 22:29:47 [INFO] Log file: /home/toby/tele/log/computer/tele1_2025-12-17_22-29-47.log
2025-12-17 22:29:47 [INFO] 
2025-12-17 22:29:47 [INFO] STAGE 1: System Preparation
2025-12-17 22:29:47 [INFO] ----------------------------
2025-12-17 22:29:47 [INFO] Checking system dependencies...
2025-12-17 22:29:47 [INFO] All dependencies satisfied
2025-12-17 22:29:48 [INFO] Collecting system information...
2025-12-17 22:29:48 [INFO] ================================
2025-12-17 22:29:48 [INFO] Hostname: tele1
2025-12-17 22:29:48 [INFO] Username: toby
2025-12-17 22:29:48 [INFO] Uptime: up 0 minutes
2025-12-17 22:29:48 [INFO] Kernel: 6.14.0-36-generic
2025-12-17 22:29:48 [INFO] Last reboot: 2025-12-17 22:29
2025-12-17 22:29:48 [INFO] CPU: Intel Atom(R) x6413E Processor @ 1.50GHz
2025-12-17 22:29:48 [INFO] CPU cores: 4
2025-12-17 22:29:48 [INFO] CPU temperature: 0Â°C
2025-12-17 22:29:48 [INFO] Memory: 14125MB available / 15268MB total
2025-12-17 22:29:48 [INFO] Disk space available: 91G
2025-12-17 22:29:48 [INFO] Running processes: 268
2025-12-17 22:29:48 [INFO] Public IP: N/A
2025-12-17 22:29:48 [INFO] ================================
2025-12-17 22:29:48 [INFO] 
2025-12-17 22:29:48 [INFO] Checking hardware connectivity...
2025-12-17 22:29:48 [INFO] Checking hardware presence...
2025-12-17 22:29:48 [INFO] Enumerating USB devices...
2025-12-17 22:29:48 [INFO] USB devices detected: 3
2025-12-17 22:29:48 [INFO] Checking network interfaces...
2025-12-17 22:29:48 [INFO] Network interfaces found:
2025-12-17 22:29:48 [INFO]   - enp2s0: UP
2025-12-17 22:29:48 [INFO]   - enp3s0: DOWN
2025-12-17 22:29:48 [INFO]   - tailscale0: UNKNOWN
2025-12-17 22:29:48 [INFO] Checking for Pegasus data logger...
2025-12-17 22:29:48 [INFO] Pegasus logger check passed (basic check only)
2025-12-17 22:29:48 [WARN] NOTE: Actual device connectivity will be verified during harvest
2025-12-17 22:29:48 [INFO] System preparation completed successfully
2025-12-17 22:29:48 [INFO] 
2025-12-17 22:29:48 [INFO] STAGE 2: Configuration Loading
2025-12-17 22:29:48 [INFO] -------------------------------
2025-12-17 22:29:48 [INFO] Downloading configuration from Dropbox...
2025-12-17 22:29:48 [INFO] Config download attempt 1 of 3

Error: Couldn't resolve host.
2025-12-17 22:29:48 [WARN] FAILED: Config download attempt 1
2025-12-17 22:29:48 [INFO] Waiting 10 seconds before retry...
2025-12-17 22:29:58 [INFO] Config download attempt 2 of 3

Error: Couldn't resolve host.
2025-12-17 22:29:58 [WARN] FAILED: Config download attempt 2
2025-12-17 22:29:58 [INFO] Waiting 10 seconds before retry...
2025-12-17 22:30:08 [INFO] Config download attempt 3 of 3

Error: Couldn't resolve host.
2025-12-17 22:30:09 [WARN] FAILED: Config download attempt 3
2025-12-17 22:30:09 [ERROR] Failed to download config after 3 attempts
2025-12-17 22:30:09 [WARN] Config download failed, attempting to use local defaults
2025-12-17 22:30:09 [INFO] Loading default configuration...
2025-12-17 22:30:09 [INFO] Copying default config from: /home/toby/tele/config/config.defaults
2025-12-17 22:30:09 [INFO] Parsing configuration file...
2025-12-17 22:30:09 [INFO] Config: EXECUTE = 'auto'
2025-12-17 22:30:09 [INFO] Config: WAIT_TIME = 2 hours
2025-12-17 22:30:09 [INFO] Config: AFTER_WAIT = 'auto'
2025-12-17 22:30:09 [INFO] Config: HARVEST_MODE = 'since last'
2025-12-17 22:30:09 [INFO] Config: FROM_DATE = '2025-01-01 00:00:00'
2025-12-17 22:30:09 [INFO] Config: TO_DATE = '2025-12-31 23:59:59'
2025-12-17 22:30:09 [INFO] Configuration parsed and validated successfully
2025-12-17 22:30:09 [INFO] Applying configuration settings...
2025-12-17 22:30:09 [INFO] Save to state file for reference.
2025-12-17 22:30:10 [INFO] 
2025-12-17 22:30:10 [INFO] Current Configuration:
2025-12-17 22:30:10 [INFO] =====================
2025-12-17 22:30:10 [INFO] EXECUTE      = 'auto'
2025-12-17 22:30:10 [INFO] WAIT_TIME    = 2 hours
2025-12-17 22:30:10 [INFO] AFTER_WAIT   = 'auto'
2025-12-17 22:30:10 [INFO] HARVEST_MODE = 'since last'
2025-12-17 22:30:10 [INFO] FROM_DATE    = '2025-01-01 00:00:00'
2025-12-17 22:30:10 [INFO] TO_DATE      = '2025-12-31 23:59:59'
2025-12-17 22:30:10 [INFO] =====================
2025-12-17 22:30:10 [INFO] 
2025-12-17 22:30:10 [INFO] Configuration loaded successfully
2025-12-17 22:30:10 [INFO] 
2025-12-17 22:30:10 [INFO] STAGE 3: Network Initialization
2025-12-17 22:30:10 [INFO] --------------------------------
2025-12-17 22:30:10 [INFO] Checking network connectivity...
2025-12-17 22:30:30 [WARN] Network connectivity test failed
2025-12-17 22:30:30 [WARN] Network not available - uploads may fail
2025-12-17 22:30:30 [INFO] Network initialization completed
2025-12-17 22:30:30 [INFO] 
2025-12-17 22:30:30 [INFO] STAGE 4: Data Collection
2025-12-17 22:30:30 [INFO] -------------------------
2025-12-17 22:30:30 [INFO] Collecting Starlink diagnostics...
2025-12-17 22:30:40 [INFO] Starlink diagnostics collected successfully

========================================
STARLINK DIAGNOSTIC DATA
========================================
{
  "id": "ut01a88293-01e07c1c-59ddba41",
  "hardwareVersion": "mini1_panda_prod1",
  "softwareVersion": "2025.07.13.mr59602",
  "utcOffsetS": 0,
  "hardwareSelfTest": "PASSED",
  "hardwareSelfTestCodesList": [],
  "alerts": {
    "dishIsHeating": false,
    "dishThermalThrottle": false,
    "dishThermalShutdown": false,
    "powerSupplyThermalThrottle": false,
    "motorsStuck": false,
    "mastNotNearVertical": false,
    "slowEthernetSpeeds": false,
    "softwareInstallPending": false,
    "movingTooFastForPolicy": false,
    "obstructed": false
  },
  "disablementCode": "UNKNOWN",
  "stowed": false
}
========================================

2025-12-17 22:30:40 [INFO] Starting Pegasus Harvester automation...
2025-12-17 22:30:40 [INFO] Starting Pegasus harvest cycle...
2025-12-17 22:30:40 [INFO] ========================================
2025-12-17 22:30:40 [INFO] Harvest Attempt 1 of 3
2025-12-17 22:30:40 [INFO] ========================================
2025-12-17 22:30:40 [INFO] Starting single harvest attempt...
2025-12-17 22:30:40 [INFO] Creating harvest directory: /home/toby/tele/data/pegasus/20251217_2230
2025-12-17 22:30:40 [INFO] Launching Pegasus Harvester...
2025-12-17 22:30:40 [INFO] Cleaning up any existing Pegasus processes...
2025-12-17 22:30:44 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-17 22:30:44 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-17 22:30:44 [INFO] Pegasus Harvester started (PID: 4239)
2025-12-17 22:30:44 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-17 22:30:56 [INFO] Pegasus Harvester initialized (PID verified)
2025-12-17 22:30:56 [INFO] Running JavaScript harvester...
2025-12-17 22:30:56 [INFO] Command: node /home/toby/tele/js/pegasus_harvest.js /home/toby/tele/data/pegasus/20251217_2230 auto 2 auto "since last" "2025-01-01 00:00:00" "2025-12-31 23:59:59"
2025-12-17T22:30:57.715Z - Starting enhanced Pegasus harvest automation
2025-12-17T22:30:57.724Z - Target output directory: /home/toby/tele/data/pegasus/20251217_2230
2025-12-17T22:30:57.724Z - Initial harvest mode: since last
2025-12-17T22:30:57.724Z - Date range: 2025-01-01 00:00:00 to 2025-12-31 23:59:59
2025-12-17T22:30:57.725Z - Configuration validation passed
2025-12-17T22:30:57.727Z - Memory usage: 11MB
2025-12-17T22:30:57.729Z - Disk space check completed
2025-12-17T22:30:57.733Z - Attempting browser connection (1/3)
2025-12-17T22:30:58.741Z - Browser connection successful on attempt 1
2025-12-17T22:30:58.742Z - Connected to Pegasus Harvester browser session
2025-12-17T22:30:58.742Z - 
=== ATTEMPT 1: Using harvest mode 'since last' ===
2025-12-17T22:31:09.871Z - Harvest completed with mode 'since last' in 11129ms. Checking for data...
2025-12-17T22:31:12.878Z - Found 2 data files in /home/toby/tele/data/pegasus/20251217_2230
2025-12-17T22:31:12.879Z - SUCCESS: Data found in harvest directory with mode 'since last'
2025-12-17T22:31:12.879Z - [SINCE LAST:1] SUCCESS (11129ms)
2025-12-17T22:31:12.880Z - SUCCESS: Enhanced Pegasus harvest completed successfully after 1 attempts
2025-12-17T22:31:12.881Z - HARVEST SUMMARY: 1 successful, 0 failed, 15165ms total
2025-12-17 22:31:12 [INFO] JavaScript Harvester completed successfully
2025-12-17 22:31:12 [INFO] Shutting down Pegasus Harvester (PID: 2025-12-17 22:30:40 [INFO] Launching Pegasus Harvester...
2025-12-17 22:30:40 [INFO] Cleaning up any existing Pegasus processes...
2025-12-17 22:30:44 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-17 22:30:44 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-17 22:30:44 [INFO] Pegasus Harvester started (PID: 4239)
2025-12-17 22:30:44 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-17 22:30:56 [INFO] Pegasus Harvester initialized (PID verified)
4239)...
2025-12-17 22:31:13 [INFO] Pegasus Harvester shutdown complete
2025-12-17 22:31:13 [INFO] SUCCESS: Harvest automation completed on attempt 1
2025-12-17 22:31:13 [INFO] Verifying harvest success...
2025-12-17 22:31:13 [INFO] Harvest verified: 32 files collected
2025-12-17 22:31:13 [INFO] 
2025-12-17 22:31:13 [INFO] Analyzing harvested data...
2025-12-17 22:31:13 [INFO] ----------------------------
2025-12-17 22:31:13 [INFO] Total files harvested: 32
2025-12-17 22:31:13 [INFO] Total harvest size: 652K
2025-12-17 22:31:13 [INFO] File breakdown by extension:
2025-12-17 22:31:13 [INFO]   .351 files: 29
2025-12-17 22:31:13 [INFO]   .csv files: 1
2025-12-17 22:31:13 [INFO]   .log files: 1
2025-12-17 22:31:13 [INFO]   .xml files: 1
2025-12-17 22:31:13 [INFO] ----------------------------
2025-12-17 22:31:13 [INFO] 
2025-12-17 22:31:13 [INFO] SUCCESS: Data harvested successfully
2025-12-17 22:31:13 [INFO] Data collection stage completed
2025-12-17 22:31:13 [INFO] 
2025-12-17 22:31:13 [INFO] STAGE 5: Data Upload
2025-12-17 22:31:13 [INFO] --------------------
2025-12-17 22:31:13 [INFO] Compressing and uploading harvest data...
2025-12-17 22:31:13 [INFO] Preparing harvest data for upload...
2025-12-17 22:31:13 [INFO] Compressing harvest data...
2025-12-17 22:31:13 [INFO] Creating archive: /tmp/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:31:13 [INFO] Compressing 32 files...
2025-12-17 22:31:13 [INFO] SUCCESS: Archive created (160K)
2025-12-17 22:31:13 [INFO] Archive path: /tmp/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:31:13 [INFO] Dropbox destination: /20251217_2230/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:31:13 [INFO] Uploading file: pegasus_data_20251217_2230.tar.gz (160K)
2025-12-17 22:31:13 [INFO]   Local path: /tmp/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:31:13 [INFO]   Remote path: /20251217_2230/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:31:13 [INFO] Upload attempt 1 of 3

Error: Couldn't resolve host.
2025-12-17 22:31:13 [WARN] FAILED: Upload attempt 1 failed (exit code: 1)
2025-12-17 22:31:13 [INFO] Waiting 30s before retry...
2025-12-17 22:31:43 [INFO] Upload attempt 2 of 3

Error: Couldn't resolve host.
2025-12-17 22:31:43 [WARN] FAILED: Upload attempt 2 failed (exit code: 1)
2025-12-17 22:31:43 [INFO] Waiting 30s before retry...
2025-12-17 22:32:13 [INFO] Upload attempt 3 of 3

Error: Couldn't resolve host.
2025-12-17 22:32:13 [WARN] FAILED: Upload attempt 3 failed (exit code: 1)
2025-12-17 22:32:13 [ERROR] FAILED: File upload failed after 3 attempts
2025-12-17 22:32:13 [ERROR] Harvest data upload failed
2025-12-17 22:32:13 [WARN] Archive retained for manual upload: /tmp/pegasus_data_20251217_2230.tar.gz
2025-12-17 22:32:13 [ERROR] FAILED: Harvest data upload failed
2025-12-17 22:32:14 [INFO] Uploading log file...
2025-12-17 22:32:14 [INFO] Preparing log file for upload...
2025-12-17 22:32:14 [INFO] Dropbox destination: /2025-12-17_22-29-47/tele1_2025-12-17_22-29-47.log
2025-12-17 22:32:14 [INFO] Uploading file: tele1_2025-12-17_22-29-47.log (16K)
2025-12-17 22:32:14 [INFO]   Local path: /home/toby/tele/log/computer/tele1_2025-12-17_22-29-47.log
2025-12-17 22:32:14 [INFO]   Remote path: /2025-12-17_22-29-47/tele1_2025-12-17_22-29-47.log
2025-12-17 22:32:14 [INFO] Upload attempt 1 of 3

Error: Couldn't resolve host.
2025-12-17 22:32:14 [WARN] FAILED: Upload attempt 1 failed (exit code: 1)
2025-12-17 22:32:14 [INFO] Waiting 30s before retry...
2025-12-17 22:32:44 [INFO] Upload attempt 2 of 3

Error: Couldn't resolve host.
2025-12-17 22:32:44 [WARN] FAILED: Upload attempt 2 failed (exit code: 1)
2025-12-17 22:32:44 [INFO] Waiting 30s before retry...
2025-12-17 22:33:14 [INFO] Upload attempt 3 of 3

Error: Couldn't resolve host.
2025-12-17 22:33:14 [WARN] FAILED: Upload attempt 3 failed (exit code: 1)
2025-12-17 22:33:14 [ERROR] FAILED: File upload failed after 3 attempts
2025-12-17 22:33:14 [ERROR] Log file upload failed
2025-12-17 22:33:14 [ERROR] FAILED: Log file upload failed
2025-12-17 22:33:14 [INFO] Upload stage completed
2025-12-17 22:33:14 [INFO] 
2025-12-17 22:33:14 [INFO] STAGE 6: Sending Notification
2025-12-17 22:33:14 [INFO] ------------------------------
2025-12-17 22:33:14 [INFO] Preparing status notification...
2025-12-17 22:33:14 [INFO] Checking network connectivity...
2025-12-17 22:33:34 [WARN] Network connectivity test failed
2025-12-17 22:33:34 [INFO] Sending email notification...
2025-12-17 22:33:34 [INFO]   To: tobbetripitaka@gmail.com
2025-12-17 22:33:34 [INFO]   Subject: TELE1: HARVEST SUCCESS, UPLOAD FAILED - 2025-12-17 22:33
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0curl: (6) Could not resolve host: smtp.gmail.com
2025-12-17 22:33:34 [ERROR] FAILED: Email sending failed
2025-12-17 22:33:34 [ERROR] Failed to send status notification
2025-12-17 22:33:34 [INFO] Creating local notification file: /tmp/tele1_notification_1766010814.txt
2025-12-17 22:33:34 [INFO] Local notification saved: /tmp/tele1_notification_1766010814.txt
2025-12-17 22:33:34 [ERROR] Failed to send email notification
2025-12-17 22:33:34 [INFO] Notification sent
2025-12-17 22:33:34 [INFO] 
2025-12-17 22:33:34 [INFO] STAGE 7: Cleanup and Shutdown
2025-12-17 22:33:34 [INFO] ------------------------------
2025-12-17 22:33:34 [INFO] Cleaning up temporary files...
2025-12-17 22:33:34 [INFO] 
2025-12-17 22:33:34 [INFO] ==================================================
2025-12-17 22:33:34 [INFO] TELE1 Execution Summary
2025-12-17 22:33:34 [INFO] ==================================================
2025-12-17 22:33:34 [INFO] Overall Status: HARVEST_SUCCESS_UPLOAD_FAILED
2025-12-17 22:33:34 [INFO] Harvest Success: YES
2025-12-17 22:33:34 [INFO] Data Upload Success: NO
2025-12-17 22:33:34 [INFO] Log Upload Success: NO
2025-12-17 22:33:34 [INFO] Execution time: 1766010814 seconds
2025-12-17 22:33:34 [INFO] ==================================================
2025-12-17 22:33:34 [INFO] 
2025-12-17 22:33:34 [INFO] Process completed
2025-12-17 22:35:35 [INFO] User selected shutdown
2025-12-17 22:35:40 [INFO] TELE1 execution completed
2025-12-17 22:35:40 [INFO] Cleanup initiated (exit code: 0)
