========================================================================
TELE1 Data Collection and Upload Log
========================================================================
Started: 2025-12-18 05:09:31
Hostname: tele1
User: toby
Script: /home/toby/tele/tele1.sh
========================================================================

2025-12-18 05:09:31 [INFO] ==================================================
2025-12-18 05:09:31 [INFO] TELE1 Data Collection System - Starting
2025-12-18 05:09:31 [INFO] ==================================================
2025-12-18 05:09:31 [INFO] Script version: 2.0
2025-12-18 05:09:31 [INFO] Start time: 2025-12-18_05-09-31
2025-12-18 05:09:31 [INFO] Log file: /home/toby/tele/log/computer/tele1_2025-12-18_05-09-31.log
2025-12-18 05:09:31 [INFO] 
2025-12-18 05:09:31 [INFO] STAGE 1: System Preparation
2025-12-18 05:09:31 [INFO] ----------------------------
2025-12-18 05:09:31 [INFO] Checking system dependencies...
2025-12-18 05:09:31 [INFO] All dependencies satisfied
2025-12-18 05:09:31 [INFO] Collecting system information...
2025-12-18 05:09:31 [INFO] ================================
2025-12-18 05:09:31 [INFO] Hostname: tele1
2025-12-18 05:09:31 [INFO] Username: toby
2025-12-18 05:09:31 [INFO] Uptime: up 0 minutes
2025-12-18 05:09:31 [INFO] Kernel: 6.14.0-36-generic
2025-12-18 05:09:31 [INFO] Last reboot: 2025-12-18 05:09
2025-12-18 05:09:31 [INFO] CPU: Intel Atom(R) x6413E Processor @ 1.50GHz
2025-12-18 05:09:31 [INFO] CPU cores: 4
2025-12-18 05:09:31 [INFO] CPU temperature: 0Â°C
2025-12-18 05:09:31 [INFO] Memory: 14127MB available / 15268MB total
2025-12-18 05:09:31 [INFO] Disk space available: 91G
2025-12-18 05:09:31 [INFO] Running processes: 270
2025-12-18 05:09:31 [INFO] Public IP: N/A
2025-12-18 05:09:31 [INFO] ================================
2025-12-18 05:09:31 [INFO] 
2025-12-18 05:09:31 [INFO] Checking hardware connectivity...
2025-12-18 05:09:31 [INFO] Checking hardware presence...
2025-12-18 05:09:31 [INFO] Enumerating USB devices...
2025-12-18 05:09:31 [INFO] USB devices detected: 3
2025-12-18 05:09:31 [INFO] Checking network interfaces...
2025-12-18 05:09:31 [INFO] Network interfaces found:
2025-12-18 05:09:31 [INFO]   - enp2s0: UP
2025-12-18 05:09:31 [INFO]   - enp3s0: DOWN
2025-12-18 05:09:31 [INFO]   - tailscale0: UNKNOWN
2025-12-18 05:09:31 [INFO] Checking for Pegasus data logger...
2025-12-18 05:09:31 [INFO] Pegasus logger check passed (basic check only)
2025-12-18 05:09:31 [WARN] NOTE: Actual device connectivity will be verified during harvest
2025-12-18 05:09:31 [INFO] System preparation completed successfully
2025-12-18 05:09:31 [INFO] 
2025-12-18 05:09:31 [INFO] STAGE 2: Configuration Loading
2025-12-18 05:09:31 [INFO] -------------------------------
2025-12-18 05:09:31 [INFO] Downloading configuration from Dropbox...
2025-12-18 05:09:31 [INFO] Config download attempt 1 of 3

Error: Couldn't resolve host.
2025-12-18 05:09:32 [WARN] FAILED: Config download attempt 1
2025-12-18 05:09:32 [INFO] Waiting 10 seconds before retry...
2025-12-18 05:09:42 [INFO] Config download attempt 2 of 3

Error: Couldn't resolve host.
2025-12-18 05:09:42 [WARN] FAILED: Config download attempt 2
2025-12-18 05:09:42 [INFO] Waiting 10 seconds before retry...
2025-12-18 05:09:52 [INFO] Config download attempt 3 of 3

Error: Couldn't resolve host.
2025-12-18 05:09:52 [WARN] FAILED: Config download attempt 3
2025-12-18 05:09:52 [ERROR] Failed to download config after 3 attempts
2025-12-18 05:09:52 [WARN] Config download failed, attempting to use local defaults
2025-12-18 05:09:52 [INFO] Loading default configuration...
2025-12-18 05:09:52 [INFO] Copying default config from: /home/toby/tele/config/config.defaults
2025-12-18 05:09:52 [INFO] Parsing configuration file...
2025-12-18 05:09:52 [INFO] Config: EXECUTE = 'auto'
2025-12-18 05:09:52 [INFO] Config: WAIT_TIME = 2 hours
2025-12-18 05:09:52 [INFO] Config: AFTER_WAIT = 'auto'
2025-12-18 05:09:53 [INFO] Config: HARVEST_MODE = 'since last'
2025-12-18 05:09:53 [INFO] Config: FROM_DATE = '2025-01-01 00:00:00'
2025-12-18 05:09:53 [INFO] Config: TO_DATE = '2025-12-31 23:59:59'
2025-12-18 05:09:53 [INFO] Configuration parsed and validated successfully
2025-12-18 05:09:53 [INFO] Applying configuration settings...
2025-12-18 05:09:53 [INFO] Save to state file for reference.
2025-12-18 05:09:53 [INFO] 
2025-12-18 05:09:53 [INFO] Current Configuration:
2025-12-18 05:09:53 [INFO] =====================
2025-12-18 05:09:53 [INFO] EXECUTE      = 'auto'
2025-12-18 05:09:53 [INFO] WAIT_TIME    = 2 hours
2025-12-18 05:09:53 [INFO] AFTER_WAIT   = 'auto'
2025-12-18 05:09:53 [INFO] HARVEST_MODE = 'since last'
2025-12-18 05:09:53 [INFO] FROM_DATE    = '2025-01-01 00:00:00'
2025-12-18 05:09:53 [INFO] TO_DATE      = '2025-12-31 23:59:59'
2025-12-18 05:09:53 [INFO] =====================
2025-12-18 05:09:53 [INFO] 
2025-12-18 05:09:53 [INFO] Configuration loaded successfully
2025-12-18 05:09:53 [INFO] 
2025-12-18 05:09:53 [INFO] STAGE 3: Network Initialization
2025-12-18 05:09:53 [INFO] --------------------------------
2025-12-18 05:09:53 [INFO] Checking network connectivity...
2025-12-18 05:10:13 [WARN] Network connectivity test failed
2025-12-18 05:10:13 [WARN] Network not available - uploads may fail
2025-12-18 05:10:13 [INFO] Network initialization completed
2025-12-18 05:10:13 [INFO] 
2025-12-18 05:10:13 [INFO] STAGE 4: Data Collection
2025-12-18 05:10:13 [INFO] -------------------------
2025-12-18 05:10:13 [INFO] Collecting Starlink diagnostics...
2025-12-18 05:10:23 [INFO] Starlink diagnostics collected successfully

========================================
STARLINK DIAGNOSTIC DATA
========================================
{
  "id": "ut01a88293-01e07c1c-59ddba41",
  "hardwareVersion": "mini1_panda_prod1",
  "softwareVersion": "2025.07.13.mr59602",
  "utcOffsetS": 36000,
  "hardwareSelfTest": "PASSED",
  "hardwareSelfTestCodesList": [],
  "alerts": {
    "dishIsHeating": false,
    "dishThermalThrottle": false,
    "dishThermalShutdown": false,
    "powerSupplyThermalThrottle": false,
    "motorsStuck": false,
    "mastNotNearVertical": false,
    "slowEthernetSpeeds": false,
    "softwareInstallPending": false,
    "movingTooFastForPolicy": false,
    "obstructed": false
  },
  "disablementCode": "UNKNOWN",
  "stowed": false
}
========================================

2025-12-18 05:10:23 [INFO] Starting Pegasus Harvester automation...
2025-12-18 05:10:23 [INFO] Starting Pegasus harvest cycle...
2025-12-18 05:10:23 [INFO] ========================================
2025-12-18 05:10:23 [INFO] Harvest Attempt 1 of 3
2025-12-18 05:10:23 [INFO] ========================================
2025-12-18 05:10:23 [INFO] Starting single harvest attempt...
2025-12-18 05:10:23 [INFO] Creating harvest directory: /home/toby/tele/data/pegasus/20251218_0510
2025-12-18 05:10:24 [INFO] Launching Pegasus Harvester...
2025-12-18 05:10:24 [INFO] Cleaning up any existing Pegasus processes...
2025-12-18 05:10:27 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-18 05:10:27 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-18 05:10:27 [INFO] Pegasus Harvester started (PID: 4235)
2025-12-18 05:10:27 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-18 05:10:39 [INFO] Pegasus Harvester initialized (PID verified)
2025-12-18 05:10:39 [INFO] Running JavaScript harvester...
2025-12-18 05:10:39 [INFO] Command: node /home/toby/tele/js/pegasus_harvest.js /home/toby/tele/data/pegasus/20251218_0510 auto 2 auto "since last" "2025-01-01 00:00:00" "2025-12-31 23:59:59"
2025-12-18T05:10:41.079Z - Starting enhanced Pegasus harvest automation
2025-12-18T05:10:41.088Z - Target output directory: /home/toby/tele/data/pegasus/20251218_0510
2025-12-18T05:10:41.088Z - Initial harvest mode: since last
2025-12-18T05:10:41.088Z - Date range: 2025-01-01 00:00:00 to 2025-12-31 23:59:59
2025-12-18T05:10:41.089Z - Configuration validation passed
2025-12-18T05:10:41.090Z - Memory usage: 11MB
2025-12-18T05:10:41.092Z - Disk space check completed
2025-12-18T05:10:41.096Z - Attempting browser connection (1/3)
2025-12-18T05:10:42.103Z - Browser connection successful on attempt 1
2025-12-18T05:10:42.104Z - Connected to Pegasus Harvester browser session
2025-12-18T05:10:42.104Z - 
=== ATTEMPT 1: Using harvest mode 'since last' ===
2025-12-18T05:10:53.285Z - Harvest completed with mode 'since last' in 11181ms. Checking for data...
2025-12-18T05:10:56.292Z - Found 2 data files in /home/toby/tele/data/pegasus/20251218_0510
2025-12-18T05:10:56.293Z - SUCCESS: Data found in harvest directory with mode 'since last'
2025-12-18T05:10:56.293Z - [SINCE LAST:1] SUCCESS (11181ms)
2025-12-18T05:10:56.294Z - SUCCESS: Enhanced Pegasus harvest completed successfully after 1 attempts
2025-12-18T05:10:56.294Z - HARVEST SUMMARY: 1 successful, 0 failed, 15215ms total
2025-12-18 05:10:56 [INFO] JavaScript Harvester completed successfully
2025-12-18 05:10:56 [INFO] Shutting down Pegasus Harvester (PID: 2025-12-18 05:10:24 [INFO] Launching Pegasus Harvester...
2025-12-18 05:10:24 [INFO] Cleaning up any existing Pegasus processes...
2025-12-18 05:10:27 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-18 05:10:27 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-18 05:10:27 [INFO] Pegasus Harvester started (PID: 4235)
2025-12-18 05:10:27 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-18 05:10:39 [INFO] Pegasus Harvester initialized (PID verified)
4235)...
2025-12-18 05:10:56 [INFO] Pegasus Harvester shutdown complete
2025-12-18 05:10:56 [INFO] SUCCESS: Harvest automation completed on attempt 1
2025-12-18 05:10:56 [INFO] Verifying harvest success...
2025-12-18 05:10:56 [INFO] Harvest verified: 61 files collected
2025-12-18 05:10:56 [INFO] 
2025-12-18 05:10:56 [INFO] Analyzing harvested data...
2025-12-18 05:10:56 [INFO] ----------------------------
2025-12-18 05:10:56 [INFO] Total files harvested: 61
2025-12-18 05:10:56 [INFO] Total harvest size: 4.0M
2025-12-18 05:10:56 [INFO] File breakdown by extension:
2025-12-18 05:10:56 [INFO]   .351 files: 29
2025-12-18 05:10:56 [INFO]   .352 files: 29
2025-12-18 05:10:56 [INFO]   .csv files: 1
2025-12-18 05:10:56 [INFO]   .log files: 1
2025-12-18 05:10:56 [INFO]   .xml files: 1
2025-12-18 05:10:56 [INFO] ----------------------------
2025-12-18 05:10:56 [INFO] 
2025-12-18 05:10:56 [INFO] SUCCESS: Data harvested successfully
2025-12-18 05:10:56 [INFO] Data collection stage completed
2025-12-18 05:10:56 [INFO] 
2025-12-18 05:10:56 [INFO] STAGE 5: Data Upload
2025-12-18 05:10:56 [INFO] --------------------
2025-12-18 05:10:56 [INFO] Compressing and uploading harvest data...
2025-12-18 05:10:56 [INFO] Preparing harvest data for upload...
2025-12-18 05:10:56 [INFO] Compressing harvest data...
2025-12-18 05:10:56 [INFO] Creating archive: /tmp/pegasus_data_20251218_0510.tar.gz
2025-12-18 05:10:56 [INFO] Compressing 61 files...
2025-12-18 05:10:57 [INFO] SUCCESS: Archive created (2.6M)
2025-12-18 05:10:57 [INFO] Archive path: /tmp/pegasus_data_20251218_0510.tar.gz
2025-12-18 05:10:57 [INFO] Dropbox destination: /20251218_0510/pegasus_data_20251218_0510.tar.gz
2025-12-18 05:10:57 [INFO] Uploading file: pegasus_data_20251218_0510.tar.gz (2.6M)
2025-12-18 05:10:57 [INFO]   Local path: /tmp/pegasus_data_20251218_0510.tar.gz
2025-12-18 05:10:57 [INFO]   Remote path: /20251218_0510/pegasus_data_20251218_0510.tar.gz
2025-12-18 05:10:57 [INFO] Upload attempt 1 of 3
 > Uploading "/tmp/pegasus_data_20251218_0510.tar.gz" to "/20251218_0510/pegasus_data_20251218_0510.tar.gz"... DONE
2025-12-18 05:11:01 [INFO] SUCCESS: File uploaded on attempt 1
2025-12-18 05:11:01 [INFO] Harvest data uploaded successfully
2025-12-18 05:11:01 [INFO] Cleaning up temporary archive...
2025-12-18 05:11:01 [INFO] SUCCESS: Harvest data uploaded
2025-12-18 05:11:02 [INFO] Uploading log file...
2025-12-18 05:11:02 [INFO] Preparing log file for upload...
2025-12-18 05:11:02 [INFO] Dropbox destination: /2025-12-18_05-09-31/tele1_2025-12-18_05-09-31.log
2025-12-18 05:11:02 [INFO] Uploading file: tele1_2025-12-18_05-09-31.log (12K)
2025-12-18 05:11:02 [INFO]   Local path: /home/toby/tele/log/computer/tele1_2025-12-18_05-09-31.log
2025-12-18 05:11:02 [INFO]   Remote path: /2025-12-18_05-09-31/tele1_2025-12-18_05-09-31.log
2025-12-18 05:11:02 [INFO] Upload attempt 1 of 3
 > Uploading "/home/toby/tele/log/computer/tele1_2025-12-18_05-09-31.log" to "/2025-12-18_05-09-31/tele1_2025-12-18_05-09-31.log"... DONE
2025-12-18 05:11:05 [INFO] SUCCESS: File uploaded on attempt 1
2025-12-18 05:11:05 [INFO] Log file uploaded successfully
2025-12-18 05:11:05 [INFO] SUCCESS: Log file uploaded
2025-12-18 05:11:05 [INFO] Upload stage completed
2025-12-18 05:11:05 [INFO] 
2025-12-18 05:11:05 [INFO] STAGE 6: Sending Notification
2025-12-18 05:11:05 [INFO] ------------------------------
2025-12-18 05:11:05 [INFO] Preparing status notification...
2025-12-18 05:11:05 [INFO] Checking network connectivity...
2025-12-18 05:11:05 [INFO] Network connectivity verified (8.8.8.8 reachable)
2025-12-18 05:11:05 [INFO] Sending email notification...
2025-12-18 05:11:05 [INFO]   To: tobbetripitaka@gmail.com
2025-12-18 05:11:05 [INFO]   Subject: TELE1: COMPLETE SUCCESS - 2025-12-18 05:11
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0 14589    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0100 14589    0     0  100 14589      0   4132  0:00:03  0:00:03 --:--:--  4132100 14589    0     0  100 14589      0   3806  0:00:03  0:00:03 --:--:--  3806
2025-12-18 05:11:09 [INFO] SUCCESS: Email sent successfully
2025-12-18 05:11:09 [INFO] Status notification sent successfully
2025-12-18 05:11:09 [INFO] Notification sent
2025-12-18 05:11:09 [INFO] 
2025-12-18 05:11:09 [INFO] STAGE 7: Cleanup and Shutdown
2025-12-18 05:11:09 [INFO] ------------------------------
2025-12-18 05:11:09 [INFO] Cleaning up temporary files...
2025-12-18 05:11:09 [INFO] 
2025-12-18 05:11:09 [INFO] ==================================================
2025-12-18 05:11:09 [INFO] TELE1 Execution Summary
2025-12-18 05:11:09 [INFO] ==================================================
2025-12-18 05:11:09 [INFO] Overall Status: COMPLETE_SUCCESS
2025-12-18 05:11:09 [INFO] Harvest Success: YES
2025-12-18 05:11:09 [INFO] Data Upload Success: YES
2025-12-18 05:11:09 [INFO] Log Upload Success: YES
2025-12-18 05:11:09 [INFO] Execution time: 1766034669 seconds
2025-12-18 05:11:09 [INFO] ==================================================
2025-12-18 05:11:09 [INFO] 
2025-12-18 05:11:09 [INFO] Process completed
2025-12-18 05:13:09 [INFO] User selected shutdown
2025-12-18 05:13:14 [INFO] TELE1 execution completed
2025-12-18 05:13:14 [INFO] Cleanup initiated (exit code: 0)
