========================================================================
TELE1 Data Collection and Upload Log
========================================================================
Started: 2025-12-18 05:18:17
Hostname: tele1
User: toby
Script: /home/toby/tele/tele1.sh
========================================================================

2025-12-18 05:18:17 [INFO] ==================================================
2025-12-18 05:18:17 [INFO] TELE1 Data Collection System - Starting
2025-12-18 05:18:17 [INFO] ==================================================
2025-12-18 05:18:17 [INFO] Script version: 2.0
2025-12-18 05:18:17 [INFO] Start time: 2025-12-18_05-18-17
2025-12-18 05:18:17 [INFO] Log file: /home/toby/tele/log/computer/tele1_2025-12-18_05-18-17.log
2025-12-18 05:18:17 [INFO] 
2025-12-18 05:18:17 [INFO] STAGE 1: System Preparation
2025-12-18 05:18:17 [INFO] ----------------------------
2025-12-18 05:18:17 [INFO] Checking system dependencies...
2025-12-18 05:18:17 [INFO] All dependencies satisfied
2025-12-18 05:18:17 [INFO] Collecting system information...
2025-12-18 05:18:17 [INFO] ================================
2025-12-18 05:18:17 [INFO] Hostname: tele1
2025-12-18 05:18:17 [INFO] Username: toby
2025-12-18 05:18:17 [INFO] Uptime: up 0 minutes
2025-12-18 05:18:17 [INFO] Kernel: 6.14.0-36-generic
2025-12-18 05:18:17 [INFO] Last reboot: 2025-12-18 05:17
2025-12-18 05:18:17 [INFO] CPU: Intel Atom(R) x6413E Processor @ 1.50GHz
2025-12-18 05:18:17 [INFO] CPU cores: 4
2025-12-18 05:18:17 [INFO] CPU temperature: 0Â°C
2025-12-18 05:18:17 [INFO] Memory: 14132MB available / 15268MB total
2025-12-18 05:18:17 [INFO] Disk space available: 91G
2025-12-18 05:18:17 [INFO] Running processes: 268
2025-12-18 05:18:18 [INFO] Public IP: N/A
2025-12-18 05:18:18 [INFO] ================================
2025-12-18 05:18:18 [INFO] 
2025-12-18 05:18:18 [INFO] Checking hardware connectivity...
2025-12-18 05:18:18 [INFO] Checking hardware presence...
2025-12-18 05:18:18 [INFO] Enumerating USB devices...
2025-12-18 05:18:18 [INFO] USB devices detected: 3
2025-12-18 05:18:18 [INFO] Checking network interfaces...
2025-12-18 05:18:18 [INFO] Network interfaces found:
2025-12-18 05:18:18 [INFO]   - enp2s0: UP
2025-12-18 05:18:18 [INFO]   - enp3s0: DOWN
2025-12-18 05:18:18 [INFO]   - tailscale0: UNKNOWN
2025-12-18 05:18:18 [INFO] Checking for Pegasus data logger...
2025-12-18 05:18:18 [INFO] Pegasus logger check passed (basic check only)
2025-12-18 05:18:18 [WARN] NOTE: Actual device connectivity will be verified during harvest
2025-12-18 05:18:18 [INFO] System preparation completed successfully
2025-12-18 05:18:18 [INFO] 
2025-12-18 05:18:18 [INFO] STAGE 2: Configuration Loading
2025-12-18 05:18:18 [INFO] -------------------------------
2025-12-18 05:18:18 [INFO] Downloading configuration from Dropbox...
2025-12-18 05:18:18 [INFO] Config download attempt 1 of 3

Error: Couldn't resolve host.
2025-12-18 05:18:18 [WARN] FAILED: Config download attempt 1
2025-12-18 05:18:18 [INFO] Waiting 10 seconds before retry...
2025-12-18 05:18:28 [INFO] Config download attempt 2 of 3

Error: Couldn't resolve host.
2025-12-18 05:18:28 [WARN] FAILED: Config download attempt 2
2025-12-18 05:18:28 [INFO] Waiting 10 seconds before retry...
2025-12-18 05:18:38 [INFO] Config download attempt 3 of 3

Error: Couldn't resolve host.
2025-12-18 05:18:38 [WARN] FAILED: Config download attempt 3
2025-12-18 05:18:38 [ERROR] Failed to download config after 3 attempts
2025-12-18 05:18:38 [WARN] Config download failed, attempting to use local defaults
2025-12-18 05:18:38 [INFO] Loading default configuration...
2025-12-18 05:18:38 [INFO] Copying default config from: /home/toby/tele/config/config.defaults
2025-12-18 05:18:38 [INFO] Parsing configuration file...
2025-12-18 05:18:38 [INFO] Config: EXECUTE = 'auto'
2025-12-18 05:18:39 [INFO] Config: WAIT_TIME = 2 hours
2025-12-18 05:18:39 [INFO] Config: AFTER_WAIT = 'auto'
2025-12-18 05:18:39 [INFO] Config: HARVEST_MODE = 'since last'
2025-12-18 05:18:39 [INFO] Config: FROM_DATE = '2025-01-01 00:00:00'
2025-12-18 05:18:39 [INFO] Config: TO_DATE = '2025-12-31 23:59:59'
2025-12-18 05:18:39 [INFO] Configuration parsed and validated successfully
2025-12-18 05:18:39 [INFO] Applying configuration settings...
2025-12-18 05:18:39 [INFO] Save to state file for reference.
2025-12-18 05:18:39 [INFO] 
2025-12-18 05:18:39 [INFO] Current Configuration:
2025-12-18 05:18:39 [INFO] =====================
2025-12-18 05:18:39 [INFO] EXECUTE      = 'auto'
2025-12-18 05:18:39 [INFO] WAIT_TIME    = 2 hours
2025-12-18 05:18:39 [INFO] AFTER_WAIT   = 'auto'
2025-12-18 05:18:39 [INFO] HARVEST_MODE = 'since last'
2025-12-18 05:18:39 [INFO] FROM_DATE    = '2025-01-01 00:00:00'
2025-12-18 05:18:39 [INFO] TO_DATE      = '2025-12-31 23:59:59'
2025-12-18 05:18:39 [INFO] =====================
2025-12-18 05:18:39 [INFO] 
2025-12-18 05:18:39 [INFO] Configuration loaded successfully
2025-12-18 05:18:39 [INFO] 
2025-12-18 05:18:39 [INFO] STAGE 3: Network Initialization
2025-12-18 05:18:39 [INFO] --------------------------------
2025-12-18 05:18:39 [INFO] Checking network connectivity...
2025-12-18 05:18:59 [WARN] Network connectivity test failed
2025-12-18 05:18:59 [WARN] Network not available - uploads may fail
2025-12-18 05:18:59 [INFO] Network initialization completed
2025-12-18 05:18:59 [INFO] 
2025-12-18 05:18:59 [INFO] STAGE 4: Data Collection
2025-12-18 05:18:59 [INFO] -------------------------
2025-12-18 05:18:59 [INFO] Collecting Starlink diagnostics...
2025-12-18 05:19:10 [INFO] Starlink diagnostics collected successfully

========================================
STARLINK DIAGNOSTIC DATA
========================================
{
  "id": "ut01a88293-01e07c1c-59ddba41",
  "hardwareVersion": "mini1_panda_prod1",
  "softwareVersion": "2025.07.13.mr59602",
  "utcOffsetS": 36000,
  "hardwareSelfTest": "PASSED",
  "hardwareSelfTestCodesList": [],
  "alerts": {
    "dishIsHeating": false,
    "dishThermalThrottle": false,
    "dishThermalShutdown": false,
    "powerSupplyThermalThrottle": false,
    "motorsStuck": false,
    "mastNotNearVertical": false,
    "slowEthernetSpeeds": false,
    "softwareInstallPending": false,
    "movingTooFastForPolicy": false,
    "obstructed": false
  },
  "disablementCode": "UNKNOWN",
  "stowed": false
}
========================================

2025-12-18 05:19:10 [INFO] Starting Pegasus Harvester automation...
2025-12-18 05:19:10 [INFO] Starting Pegasus harvest cycle...
2025-12-18 05:19:10 [INFO] ========================================
2025-12-18 05:19:10 [INFO] Harvest Attempt 1 of 3
2025-12-18 05:19:10 [INFO] ========================================
2025-12-18 05:19:10 [INFO] Starting single harvest attempt...
2025-12-18 05:19:10 [INFO] Creating harvest directory: /home/toby/tele/data/pegasus/20251218_0519
2025-12-18 05:19:10 [INFO] Launching Pegasus Harvester...
2025-12-18 05:19:10 [INFO] Cleaning up any existing Pegasus processes...
2025-12-18 05:19:13 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-18 05:19:13 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-18 05:19:13 [INFO] Pegasus Harvester started (PID: 4201)
2025-12-18 05:19:13 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-18 05:19:25 [INFO] Pegasus Harvester initialized (PID verified)
2025-12-18 05:19:25 [INFO] Running JavaScript harvester...
2025-12-18 05:19:25 [INFO] Command: node /home/toby/tele/js/pegasus_harvest.js /home/toby/tele/data/pegasus/20251218_0519 auto 2 auto "since last" "2025-01-01 00:00:00" "2025-12-31 23:59:59"
2025-12-18T05:19:27.461Z - Starting enhanced Pegasus harvest automation
2025-12-18T05:19:27.470Z - Target output directory: /home/toby/tele/data/pegasus/20251218_0519
2025-12-18T05:19:27.470Z - Initial harvest mode: since last
2025-12-18T05:19:27.470Z - Date range: 2025-01-01 00:00:00 to 2025-12-31 23:59:59
2025-12-18T05:19:27.471Z - Configuration validation passed
2025-12-18T05:19:27.473Z - Memory usage: 11MB
2025-12-18T05:19:27.475Z - Disk space check completed
2025-12-18T05:19:27.478Z - Attempting browser connection (1/3)
2025-12-18T05:19:28.495Z - Browser connection successful on attempt 1
2025-12-18T05:19:28.496Z - Connected to Pegasus Harvester browser session
2025-12-18T05:19:28.496Z - 
=== ATTEMPT 1: Using harvest mode 'since last' ===
2025-12-18T05:19:39.605Z - Harvest completed with mode 'since last' in 11109ms. Checking for data...
2025-12-18T05:19:42.611Z - Found 2 data files in /home/toby/tele/data/pegasus/20251218_0519
2025-12-18T05:19:42.612Z - SUCCESS: Data found in harvest directory with mode 'since last'
2025-12-18T05:19:42.612Z - [SINCE LAST:1] SUCCESS (11109ms)
2025-12-18T05:19:42.613Z - SUCCESS: Enhanced Pegasus harvest completed successfully after 1 attempts
2025-12-18T05:19:42.614Z - HARVEST SUMMARY: 1 successful, 0 failed, 15152ms total
2025-12-18 05:19:42 [INFO] JavaScript Harvester completed successfully
2025-12-18 05:19:42 [INFO] Shutting down Pegasus Harvester (PID: 2025-12-18 05:19:10 [INFO] Launching Pegasus Harvester...
2025-12-18 05:19:10 [INFO] Cleaning up any existing Pegasus processes...
2025-12-18 05:19:13 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-18 05:19:13 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-18 05:19:13 [INFO] Pegasus Harvester started (PID: 4201)
2025-12-18 05:19:13 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-18 05:19:25 [INFO] Pegasus Harvester initialized (PID verified)
4201)...
2025-12-18 05:19:42 [INFO] Pegasus Harvester shutdown complete
2025-12-18 05:19:42 [INFO] SUCCESS: Harvest automation completed on attempt 1
2025-12-18 05:19:42 [INFO] Verifying harvest success...
2025-12-18 05:19:42 [INFO] Harvest verified: 32 files collected
2025-12-18 05:19:42 [INFO] 
2025-12-18 05:19:42 [INFO] Analyzing harvested data...
2025-12-18 05:19:42 [INFO] ----------------------------
2025-12-18 05:19:42 [INFO] Total files harvested: 32
2025-12-18 05:19:42 [INFO] Total harvest size: 496K
2025-12-18 05:19:42 [INFO] File breakdown by extension:
2025-12-18 05:19:42 [INFO]   .352 files: 29
2025-12-18 05:19:42 [INFO]   .csv files: 1
2025-12-18 05:19:42 [INFO]   .log files: 1
2025-12-18 05:19:42 [INFO]   .xml files: 1
2025-12-18 05:19:42 [INFO] ----------------------------
2025-12-18 05:19:42 [INFO] 
2025-12-18 05:19:42 [INFO] SUCCESS: Data harvested successfully
2025-12-18 05:19:43 [INFO] Data collection stage completed
2025-12-18 05:19:43 [INFO] 
2025-12-18 05:19:43 [INFO] STAGE 5: Data Upload
2025-12-18 05:19:43 [INFO] --------------------
2025-12-18 05:19:43 [INFO] Compressing and uploading harvest data...
2025-12-18 05:19:43 [INFO] Preparing harvest data for upload...
2025-12-18 05:19:43 [INFO] Compressing harvest data...
2025-12-18 05:19:43 [INFO] Creating archive: /tmp/pegasus_data_20251218_0519.tar.gz
2025-12-18 05:19:43 [INFO] Compressing 32 files...
2025-12-18 05:19:43 [INFO] SUCCESS: Archive created (52K)
2025-12-18 05:19:43 [INFO] Archive path: /tmp/pegasus_data_20251218_0519.tar.gz
2025-12-18 05:19:43 [INFO] Dropbox destination: /20251218_0519/pegasus_data_20251218_0519.tar.gz
2025-12-18 05:19:43 [INFO] Uploading file: pegasus_data_20251218_0519.tar.gz (52K)
2025-12-18 05:19:43 [INFO]   Local path: /tmp/pegasus_data_20251218_0519.tar.gz
2025-12-18 05:19:43 [INFO]   Remote path: /20251218_0519/pegasus_data_20251218_0519.tar.gz
2025-12-18 05:19:43 [INFO] Upload attempt 1 of 3

Error: Couldn't resolve host.
2025-12-18 05:19:43 [WARN] FAILED: Upload attempt 1 failed (exit code: 1)
2025-12-18 05:19:43 [INFO] Waiting 30s before retry...
2025-12-18 05:20:13 [INFO] Upload attempt 2 of 3
 > Uploading "/tmp/pegasus_data_20251218_0519.tar.gz" to "/20251218_0519/pegasus_data_20251218_0519.tar.gz"... DONE
2025-12-18 05:20:17 [INFO] SUCCESS: File uploaded on attempt 2
2025-12-18 05:20:17 [INFO] Harvest data uploaded successfully
2025-12-18 05:20:17 [INFO] Cleaning up temporary archive...
2025-12-18 05:20:17 [INFO] SUCCESS: Harvest data uploaded
2025-12-18 05:20:17 [INFO] Uploading log file...
2025-12-18 05:20:17 [INFO] Preparing log file for upload...
2025-12-18 05:20:17 [INFO] Dropbox destination: /2025-12-18_05-18-17/tele1_2025-12-18_05-18-17.log
2025-12-18 05:20:17 [INFO] Uploading file: tele1_2025-12-18_05-18-17.log (16K)
2025-12-18 05:20:17 [INFO]   Local path: /home/toby/tele/log/computer/tele1_2025-12-18_05-18-17.log
2025-12-18 05:20:17 [INFO]   Remote path: /2025-12-18_05-18-17/tele1_2025-12-18_05-18-17.log
2025-12-18 05:20:17 [INFO] Upload attempt 1 of 3
 > Uploading "/home/toby/tele/log/computer/tele1_2025-12-18_05-18-17.log" to "/2025-12-18_05-18-17/tele1_2025-12-18_05-18-17.log"... DONE
2025-12-18 05:20:20 [INFO] SUCCESS: File uploaded on attempt 1
2025-12-18 05:20:20 [INFO] Log file uploaded successfully
2025-12-18 05:20:20 [INFO] SUCCESS: Log file uploaded
2025-12-18 05:20:20 [INFO] Upload stage completed
2025-12-18 05:20:20 [INFO] 
2025-12-18 05:20:20 [INFO] STAGE 6: Sending Notification
2025-12-18 05:20:20 [INFO] ------------------------------
2025-12-18 05:20:20 [INFO] Preparing status notification...
2025-12-18 05:20:20 [INFO] Checking network connectivity...
2025-12-18 05:20:20 [INFO] Network connectivity verified (8.8.8.8 reachable)
2025-12-18 05:20:20 [INFO] Sending email notification...
2025-12-18 05:20:20 [INFO]   To: tobbetripitaka@gmail.com
2025-12-18 05:20:20 [INFO]   Subject: TELE1: COMPLETE SUCCESS - 2025-12-18 05:20
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:02 --:--:--     0100 14752    0     0  100 14752      0   4292  0:00:03  0:00:03 --:--:--  4293100 14752    0     0  100 14752      0   4115  0:00:03  0:00:03 --:--:--  4116
2025-12-18 05:20:24 [INFO] SUCCESS: Email sent successfully
2025-12-18 05:20:24 [INFO] Status notification sent successfully
2025-12-18 05:20:24 [INFO] Notification sent
2025-12-18 05:20:24 [INFO] 
2025-12-18 05:20:24 [INFO] STAGE 7: Cleanup and Shutdown
2025-12-18 05:20:24 [INFO] ------------------------------
2025-12-18 05:20:24 [INFO] Cleaning up temporary files...
2025-12-18 05:20:24 [INFO] 
2025-12-18 05:20:24 [INFO] ==================================================
2025-12-18 05:20:24 [INFO] TELE1 Execution Summary
2025-12-18 05:20:24 [INFO] ==================================================
2025-12-18 05:20:24 [INFO] Overall Status: COMPLETE_SUCCESS
2025-12-18 05:20:24 [INFO] Harvest Success: YES
2025-12-18 05:20:24 [INFO] Data Upload Success: YES
2025-12-18 05:20:24 [INFO] Log Upload Success: YES
2025-12-18 05:20:24 [INFO] Execution time: 1766035224 seconds
2025-12-18 05:20:24 [INFO] ==================================================
2025-12-18 05:20:24 [INFO] 
2025-12-18 05:20:24 [INFO] Process completed
2025-12-18 05:22:24 [INFO] User selected shutdown
2025-12-18 05:22:29 [INFO] TELE1 execution completed
2025-12-18 05:22:29 [INFO] Cleanup initiated (exit code: 0)
