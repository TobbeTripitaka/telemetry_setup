========================================================================
TELE1 Data Collection and Upload Log
========================================================================
Started: 2025-12-19 03:48:19
Hostname: tele1
User: toby
Script: /home/toby/tele/tele1.sh
========================================================================

2025-12-19 03:48:19 [INFO] ==================================================
2025-12-19 03:48:19 [INFO] TELE1 Data Collection System - Starting
2025-12-19 03:48:19 [INFO] ==================================================
2025-12-19 03:48:19 [INFO] Script version: 2.0
2025-12-19 03:48:19 [INFO] Start time: 2025-12-19_03-48-19
2025-12-19 03:48:19 [INFO] Log file: /home/toby/tele/log/computer/tele1_2025-12-19_03-48-19.log
2025-12-19 03:48:19 [INFO] 
2025-12-19 03:48:19 [INFO] STAGE 1: System Preparation
2025-12-19 03:48:19 [INFO] ----------------------------
2025-12-19 03:48:19 [INFO] Checking system dependencies...
2025-12-19 03:48:19 [INFO] All dependencies satisfied
2025-12-19 03:48:19 [INFO] Collecting system information...
2025-12-19 03:48:19 [INFO] ================================
2025-12-19 03:48:19 [INFO] Hostname: tele1
2025-12-19 03:48:19 [INFO] Username: toby
2025-12-19 03:48:19 [INFO] Uptime: up 0 minutes
2025-12-19 03:48:19 [INFO] Kernel: 6.14.0-36-generic
2025-12-19 03:48:19 [INFO] Last reboot: 2025-12-19 03:47
2025-12-19 03:48:19 [INFO] CPU: Intel Atom(R) x6413E Processor @ 1.50GHz
2025-12-19 03:48:19 [INFO] CPU cores: 4
2025-12-19 03:48:19 [INFO] CPU temperature: 0Â°C
2025-12-19 03:48:19 [INFO] Memory: 13982MB available / 15268MB total
2025-12-19 03:48:19 [INFO] Disk space available: 91G
2025-12-19 03:48:19 [INFO] Running processes: 268
2025-12-19 03:48:19 [INFO] Public IP: N/A
2025-12-19 03:48:19 [INFO] ================================
2025-12-19 03:48:19 [INFO] 
2025-12-19 03:48:19 [INFO] Checking hardware connectivity...
2025-12-19 03:48:19 [INFO] Checking hardware presence...
2025-12-19 03:48:19 [INFO] Enumerating USB devices...
2025-12-19 03:48:19 [INFO] USB devices detected: 9
2025-12-19 03:48:19 [INFO] Checking network interfaces...
2025-12-19 03:48:19 [INFO] Network interfaces found:
2025-12-19 03:48:19 [INFO]   - enp2s0: UP
2025-12-19 03:48:19 [INFO]   - enp3s0: DOWN
2025-12-19 03:48:19 [INFO]   - tailscale0: UNKNOWN
2025-12-19 03:48:19 [INFO] Checking for Pegasus data logger...
2025-12-19 03:48:19 [INFO] Pegasus logger check passed (basic check only)
2025-12-19 03:48:19 [WARN] NOTE: Actual device connectivity will be verified during harvest
2025-12-19 03:48:19 [INFO] System preparation completed successfully
2025-12-19 03:48:19 [INFO] 
2025-12-19 03:48:19 [INFO] STAGE 2: Configuration Loading
2025-12-19 03:48:19 [INFO] -------------------------------
2025-12-19 03:48:19 [INFO] Downloading configuration from Dropbox...
2025-12-19 03:48:20 [INFO] Config download attempt 1 of 3

Error: Couldn't resolve host.
2025-12-19 03:48:20 [WARN] FAILED: Config download attempt 1
2025-12-19 03:48:20 [INFO] Waiting 10 seconds before retry...
2025-12-19 03:48:30 [INFO] Config download attempt 2 of 3

Error: Couldn't resolve host.
2025-12-19 03:48:30 [WARN] FAILED: Config download attempt 2
2025-12-19 03:48:30 [INFO] Waiting 10 seconds before retry...
2025-12-19 03:48:40 [INFO] Config download attempt 3 of 3

Error: Couldn't resolve host.
2025-12-19 03:48:40 [WARN] FAILED: Config download attempt 3
2025-12-19 03:48:40 [ERROR] Failed to download config after 3 attempts
2025-12-19 03:48:40 [WARN] Config download failed, attempting to use local defaults
2025-12-19 03:48:40 [INFO] Loading default configuration...
2025-12-19 03:48:40 [INFO] Copying default config from: /home/toby/tele/config/config.defaults
2025-12-19 03:48:40 [INFO] Parsing configuration file...
2025-12-19 03:48:40 [INFO] Config: EXECUTE = 'auto'
2025-12-19 03:48:40 [INFO] Config: WAIT_TIME = 2 hours
2025-12-19 03:48:40 [INFO] Config: AFTER_WAIT = 'auto'
2025-12-19 03:48:41 [INFO] Config: HARVEST_MODE = 'since last'
2025-12-19 03:48:41 [INFO] Config: FROM_DATE = '2025-01-01 00:00:00'
2025-12-19 03:48:41 [INFO] Config: TO_DATE = '2025-12-31 23:59:59'
2025-12-19 03:48:41 [INFO] Configuration parsed and validated successfully
2025-12-19 03:48:41 [INFO] Applying configuration settings...
2025-12-19 03:48:41 [INFO] Save to state file for reference.
2025-12-19 03:48:41 [INFO] 
2025-12-19 03:48:41 [INFO] Current Configuration:
2025-12-19 03:48:41 [INFO] =====================
2025-12-19 03:48:41 [INFO] EXECUTE      = 'auto'
2025-12-19 03:48:41 [INFO] WAIT_TIME    = 2 hours
2025-12-19 03:48:41 [INFO] AFTER_WAIT   = 'auto'
2025-12-19 03:48:41 [INFO] HARVEST_MODE = 'since last'
2025-12-19 03:48:41 [INFO] FROM_DATE    = '2025-01-01 00:00:00'
2025-12-19 03:48:41 [INFO] TO_DATE      = '2025-12-31 23:59:59'
2025-12-19 03:48:41 [INFO] =====================
2025-12-19 03:48:41 [INFO] 
2025-12-19 03:48:41 [INFO] Configuration loaded successfully
2025-12-19 03:48:41 [INFO] 
2025-12-19 03:48:41 [INFO] STAGE 3: Network Initialization
2025-12-19 03:48:41 [INFO] --------------------------------
2025-12-19 03:48:41 [INFO] Checking network connectivity...
2025-12-19 03:49:01 [WARN] Network connectivity test failed
2025-12-19 03:49:01 [WARN] Network not available - uploads may fail
2025-12-19 03:49:01 [INFO] Network initialization completed
2025-12-19 03:49:01 [INFO] 
2025-12-19 03:49:01 [INFO] STAGE 4: Data Collection
2025-12-19 03:49:01 [INFO] -------------------------
2025-12-19 03:49:01 [INFO] Collecting Starlink diagnostics...
2025-12-19 03:49:12 [INFO] Starlink diagnostics collected successfully

========================================
STARLINK DIAGNOSTIC DATA
========================================
{
  "id": "ut4018060f-02617119-18cd81df",
  "hardwareVersion": "mini1_prod2",
  "softwareVersion": "2025.12.04.mr69127.1",
  "utcOffsetS": 36000,
  "hardwareSelfTest": "PASSED",
  "hardwareSelfTestCodesList": [],
  "alerts": {
    "dishIsHeating": false,
    "dishThermalThrottle": false,
    "dishThermalShutdown": false,
    "powerSupplyThermalThrottle": false,
    "motorsStuck": false,
    "mastNotNearVertical": false,
    "slowEthernetSpeeds": false,
    "softwareInstallPending": false,
    "movingTooFastForPolicy": false,
    "obstructed": false
  },
  "disablementCode": "UNKNOWN",
  "stowed": false
}
========================================

2025-12-19 03:49:12 [INFO] Starting Pegasus Harvester automation...
2025-12-19 03:49:12 [INFO] Starting Pegasus harvest cycle...
2025-12-19 03:49:12 [INFO] ========================================
2025-12-19 03:49:12 [INFO] Harvest Attempt 1 of 3
2025-12-19 03:49:12 [INFO] ========================================
2025-12-19 03:49:12 [INFO] Starting single harvest attempt...
2025-12-19 03:49:12 [INFO] Creating harvest directory: /home/toby/tele/data/pegasus/20251219_0349
2025-12-19 03:49:12 [INFO] Launching Pegasus Harvester...
2025-12-19 03:49:12 [INFO] Cleaning up any existing Pegasus processes...
2025-12-19 03:49:15 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-19 03:49:15 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-19 03:49:15 [INFO] Pegasus Harvester started (PID: 4493)
2025-12-19 03:49:15 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-19 03:49:27 [INFO] Pegasus Harvester initialized (PID verified)
2025-12-19 03:49:27 [INFO] Running JavaScript harvester...
2025-12-19 03:49:27 [INFO] Command: node /home/toby/tele/js/pegasus_harvest.js /home/toby/tele/data/pegasus/20251219_0349 auto 2 auto "since last" "2025-01-01 00:00:00" "2025-12-31 23:59:59"
2025-12-19T03:49:29.922Z - Starting enhanced Pegasus harvest automation
2025-12-19T03:49:29.936Z - Target output directory: /home/toby/tele/data/pegasus/20251219_0349
2025-12-19T03:49:29.936Z - Initial harvest mode: since last
2025-12-19T03:49:29.936Z - Date range: 2025-01-01 00:00:00 to 2025-12-31 23:59:59
2025-12-19T03:49:29.938Z - Configuration validation passed
2025-12-19T03:49:29.940Z - Memory usage: 11MB
2025-12-19T03:49:29.944Z - Disk space check completed
2025-12-19T03:49:29.950Z - Attempting browser connection (1/3)
2025-12-19T03:49:30.963Z - Browser connection successful on attempt 1
2025-12-19T03:49:30.963Z - Connected to Pegasus Harvester browser session
2025-12-19T03:49:30.964Z - 
=== ATTEMPT 1: Using harvest mode 'since last' ===
2025-12-19T03:49:42.084Z - Harvest completed with mode 'since last' in 11120ms. Checking for data...
2025-12-19T03:49:45.091Z - Found 2 data files in /home/toby/tele/data/pegasus/20251219_0349
2025-12-19T03:49:45.092Z - SUCCESS: Data found in harvest directory with mode 'since last'
2025-12-19T03:49:45.092Z - [SINCE LAST:1] SUCCESS (11120ms)
2025-12-19T03:49:45.093Z - SUCCESS: Enhanced Pegasus harvest completed successfully after 1 attempts
2025-12-19T03:49:45.094Z - HARVEST SUMMARY: 1 successful, 0 failed, 15171ms total
2025-12-19 03:49:45 [INFO] JavaScript Harvester completed successfully
2025-12-19 03:49:45 [INFO] Shutting down Pegasus Harvester (PID: 2025-12-19 03:49:12 [INFO] Launching Pegasus Harvester...
2025-12-19 03:49:12 [INFO] Cleaning up any existing Pegasus processes...
2025-12-19 03:49:15 [INFO] PEGASUS_BIN=/opt/PegasusHarvester/pegasus-harvester
2025-12-19 03:49:15 [INFO] Launch command: /opt/PegasusHarvester/pegasus-harvester --remote-debugging-port=9222 --remote-allow-origins=*
2025-12-19 03:49:15 [INFO] Pegasus Harvester started (PID: 4493)
2025-12-19 03:49:15 [INFO] Waiting 12s for Pegasus to initialize...
2025-12-19 03:49:27 [INFO] Pegasus Harvester initialized (PID verified)
4493)...
2025-12-19 03:49:45 [INFO] Pegasus Harvester shutdown complete
2025-12-19 03:49:45 [INFO] SUCCESS: Harvest automation completed on attempt 1
2025-12-19 03:49:45 [INFO] Verifying harvest success...
2025-12-19 03:49:45 [INFO] Harvest verified: 61 files collected
2025-12-19 03:49:45 [INFO] 
2025-12-19 03:49:45 [INFO] Analyzing harvested data...
2025-12-19 03:49:45 [INFO] ----------------------------
2025-12-19 03:49:45 [INFO] Total files harvested: 61
2025-12-19 03:49:45 [INFO] Total harvest size: 12M
2025-12-19 03:49:45 [INFO] File breakdown by extension:
2025-12-19 03:49:45 [INFO]   .352 files: 29
2025-12-19 03:49:45 [INFO]   .353 files: 29
2025-12-19 03:49:45 [INFO]   .csv files: 1
2025-12-19 03:49:45 [INFO]   .log files: 1
2025-12-19 03:49:45 [INFO]   .xml files: 1
2025-12-19 03:49:45 [INFO] ----------------------------
2025-12-19 03:49:45 [INFO] 
2025-12-19 03:49:45 [INFO] SUCCESS: Data harvested successfully
2025-12-19 03:49:45 [INFO] Data collection stage completed
2025-12-19 03:49:45 [INFO] 
2025-12-19 03:49:45 [INFO] STAGE 5: Data Upload
2025-12-19 03:49:45 [INFO] --------------------
2025-12-19 03:49:45 [INFO] Compressing and uploading harvest data...
2025-12-19 03:49:45 [INFO] Preparing harvest data for upload...
2025-12-19 03:49:45 [INFO] Compressing harvest data...
2025-12-19 03:49:45 [INFO] Creating archive: /tmp/pegasus_data_20251219_0349.tar.gz
2025-12-19 03:49:45 [INFO] Compressing 61 files...
2025-12-19 03:49:49 [INFO] SUCCESS: Archive created (8.3M)
2025-12-19 03:49:49 [INFO] Archive path: /tmp/pegasus_data_20251219_0349.tar.gz
2025-12-19 03:49:49 [INFO] Dropbox destination: /20251219_0349/pegasus_data_20251219_0349.tar.gz
2025-12-19 03:49:49 [INFO] Uploading file: pegasus_data_20251219_0349.tar.gz (8.3M)
2025-12-19 03:49:49 [INFO]   Local path: /tmp/pegasus_data_20251219_0349.tar.gz
2025-12-19 03:49:49 [INFO]   Remote path: /20251219_0349/pegasus_data_20251219_0349.tar.gz
2025-12-19 03:49:49 [INFO] Upload attempt 1 of 3

Error: Couldn't resolve host.
2025-12-19 03:49:59 [WARN] FAILED: Upload attempt 1 failed (exit code: 1)
2025-12-19 03:49:59 [INFO] Waiting 30s before retry...
2025-12-19 03:50:29 [INFO] Upload attempt 2 of 3
 > Uploading "/tmp/pegasus_data_20251219_0349.tar.gz" to "/20251219_0349/pegasus_data_20251219_0349.tar.gz"... DONE
2025-12-19 03:50:56 [INFO] SUCCESS: File uploaded on attempt 2
2025-12-19 03:50:56 [INFO] Harvest data uploaded successfully
2025-12-19 03:50:56 [INFO] Cleaning up temporary archive...
2025-12-19 03:50:56 [INFO] SUCCESS: Harvest data uploaded
2025-12-19 03:50:56 [INFO] Uploading log file...
2025-12-19 03:50:56 [INFO] Preparing log file for upload...
2025-12-19 03:50:56 [INFO] Dropbox destination: /2025-12-19_03-48-19/tele1_2025-12-19_03-48-19.log
2025-12-19 03:50:56 [INFO] Uploading file: tele1_2025-12-19_03-48-19.log (16K)
2025-12-19 03:50:56 [INFO]   Local path: /home/toby/tele/log/computer/tele1_2025-12-19_03-48-19.log
2025-12-19 03:50:56 [INFO]   Remote path: /2025-12-19_03-48-19/tele1_2025-12-19_03-48-19.log
2025-12-19 03:50:56 [INFO] Upload attempt 1 of 3
 > Uploading "/home/toby/tele/log/computer/tele1_2025-12-19_03-48-19.log" to "/2025-12-19_03-48-19/tele1_2025-12-19_03-48-19.log"... DONE
2025-12-19 03:51:00 [INFO] SUCCESS: File uploaded on attempt 1
2025-12-19 03:51:00 [INFO] Log file uploaded successfully
2025-12-19 03:51:00 [INFO] SUCCESS: Log file uploaded
2025-12-19 03:51:00 [INFO] Upload stage completed
2025-12-19 03:51:00 [INFO] 
2025-12-19 03:51:00 [INFO] STAGE 6: Sending Notification
2025-12-19 03:51:00 [INFO] ------------------------------
2025-12-19 03:51:01 [INFO] Preparing status notification...
2025-12-19 03:51:01 [INFO] Checking network connectivity...
2025-12-19 03:51:01 [INFO] Network connectivity verified (8.8.8.8 reachable)
2025-12-19 03:51:01 [INFO] Sending email notification...
2025-12-19 03:51:01 [INFO]   To: tobbetripitaka@gmail.com
2025-12-19 03:51:01 [INFO]   Subject: TELE1: COMPLETE SUCCESS - 2025-12-19 03:51
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:--  0:00:01 --:--:--     0  0 14792    0     0    0     0      0      0 --:--:--  0:00:03 --:--:--     0100 14792    0     0  100 14792      0   3687  0:00:04  0:00:04 --:--:--  3687100 14792    0     0  100 14792      0   3442  0:00:04  0:00:04 --:--:--  3443
2025-12-19 03:51:06 [INFO] SUCCESS: Email sent successfully
2025-12-19 03:51:06 [INFO] Status notification sent successfully
2025-12-19 03:51:06 [INFO] Notification sent
2025-12-19 03:51:06 [INFO] 
2025-12-19 03:51:06 [INFO] STAGE 7: Cleanup and Shutdown
2025-12-19 03:51:06 [INFO] ------------------------------
2025-12-19 03:51:06 [INFO] Cleaning up temporary files...
2025-12-19 03:51:06 [INFO] 
2025-12-19 03:51:06 [INFO] ==================================================
2025-12-19 03:51:06 [INFO] TELE1 Execution Summary
2025-12-19 03:51:06 [INFO] ==================================================
2025-12-19 03:51:06 [INFO] Overall Status: COMPLETE_SUCCESS
2025-12-19 03:51:06 [INFO] Harvest Success: YES
2025-12-19 03:51:06 [INFO] Data Upload Success: YES
2025-12-19 03:51:06 [INFO] Log Upload Success: YES
2025-12-19 03:51:06 [INFO] Execution time: 1766116266 seconds
2025-12-19 03:51:06 [INFO] ==================================================
2025-12-19 03:51:06 [INFO] 
2025-12-19 03:51:06 [INFO] Process completed
2025-12-19 03:51:08 [INFO] User chose to remain in terminal
